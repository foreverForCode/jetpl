/*

 @Name：jetpl v1.0 JS模板引擎
 @Author：陈国军
 @Date：2016-3-20
 @QQ群：516754269
 @官网：http://www.jayui.com/jetpl/  或　 https://github.com/singod/jetpl　
        
*/
!function(a,b){var l,m,c={},d=!0,e=1,f={startTag:"<%",endTag:"%>"},g={exp:function(a){return new RegExp(a,"g")},error:function(a,b){var c="jetpl ";return"object"==typeof console&&console.error(c+a+"\n"+(b||"")),c+a}},h=g.exp,i=function(a){var b=this;b.tpl=a,b.compiler(),c[a]=b},j=function(a,c,d){d===b&&(d=!0);for(var e in c)!d&&e in a||(a[e]=c[e]);return a},k=i.prototype.syntax={"#":function(a){return"';"+a+";outStr+='"},"@":function(a){var b,c,d,f,g,h;return""===a?"';}outStr+='":(b=a.match(/\s*([\w."'\][]+)\s*(\w+)\s*(\w+)?/),c=e++,b&&(d=b[3]||"idx"+c,f=b[2]||"avl"+c,g="len"+c,h="arr"+c,a="';var "+h+"="+b[1]+","+d+"=-1,"+g+"="+h+".length-1,"+f+";while("+d+"<"+g+"){"+f+"="+h+"["+d+"+=1];outStr+='"),a)}};i.prototype.compiler=function(){var a=this,b=a.tpl,e=h(f.startTag+"([#=@]|)([\\s\\S]*?|)"+f.endTag),i="var outStr='';outStr+=' "+b.replace(/[\r\n\t]/g,"").replace(/\\/g,"\\\\").replace(e,function(b,c,d){return d=d.replace(/^\s+|\s+$/g,"").replace(/\\('|\\)/g,"$1"),""===c&&""===d?b:k.hasOwnProperty(c)?k[c].call(a,d):"'+("+d.replace(/\\/g,"")+")+'"})+"';return outStr;",j=/\W/.test(b)?function(a){var b,c=[],d=[];for(b in a)c.push(b),d.push(a[b]);return new Function(c,i).apply(a,d)}:c[b]=c[b]||a.compiler(),l=a.render=function(a,c){try{var d=j(a);if(!c)return d;c(d)}catch(e){return c("jetpl "+e),g.error(e,b)}};return d=!1,l},l=function(a){return"string"!=typeof a?g.error("Template not found"):d?new i(a):c[a]||new i(a)},m={uppercase:function(a){return a.toUpperCase()},lowercase:function(a){return a.toLowerCase()},decode:function(a){return a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'")},escape:function(a){return String(a||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},date:function(a,b){var f,c=b||"YYYY-MM-DD",d=new Date(1e3*a),e={"M+":d.getMonth()+1,"D+":d.getDate(),"h+":d.getHours(),"m+":d.getMinutes(),"s+":d.getSeconds(),"q+":Math.floor((d.getMonth()+3)/3),ms:d.getMilliseconds()};/(Y+)/.test(c)&&(c=c.replace(RegExp.$1,(d.getFullYear()+"").substr(4-RegExp.$1.length)));for(f in e)new RegExp("("+f+")").test(c)&&(c=c.replace(RegExp.$1,1==RegExp.$1.length?e[f]:("00"+e[f]).substr((""+e[f]).length)));return c}},l.include=function(a,b){var c=document.getElementById(a.replace(/\#/g,"")),d=/input|textarea/i.test(c.nodeName)?c.value:c.innerHTML;return l(d).render(b)},l.version="1.0",l.config=function(a){return j(f,a)},l.addConver=function(a){return j(m,a)},l.conver=function(a,c,d){var e=d==b?m[c](a):m[c](a,d);return e},"function"==typeof define?define(function(){return l}):"object"==typeof module&&"object"==typeof module.exports?module.exports=l:a.jetpl=l}(window);
