/**
 * jetpl.js 极致性能的 JS 模板引擎
 * Github：https://github.com/singod/jetpl/
 * 作者：陈国军  
 * 邮箱：arts1986@126.com
 *jetpl(tpl).render(data,fun)
 * @param tpl {String}    模板字符串
 * @param data {Object}   模板数据
 * @param fun {Function}  返回渲染结果
 *
 */
 !function(){"use strict";var g,b={openTag:"<%",closeTag:"%>"},c={exp:function(a){return new RegExp(a,"g")},error:function(a,b){var c="jetpl Error: ";return"object"==typeof console&&console.error(c+a+"\n"+(b||"")),c+a}},d=c.exp,e=function(a){this.tpl=a},f=function(a){var c=d(b.openTag+"=(.*?)"+b.closeTag),e=d(b.openTag+"(.*?)"+b.closeTag),f='var tp=[];with("k"||{}){tp.push(\''+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c,function(a,b){return"',"+b.replace(/\\'/,"'")+",'"}).replace(e,function(a,b){return"');"+b.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"tp.push('"}).replace(/[\r\t\n]/g," ")+'\');}return tp.join("");';return f};e.prototype.temp=function(a,b){var d=function(b){var c,d=[],e=[];for(c in b)d.push(c),e.push(b[c]);return new Function(d,f(a)).apply(b,e)};try{return d(b)}catch(e){return c.error(e,a)}},e.prototype.compile=function(){var b=this,c=function(a){return c.tps=c.tps||new Function(f(b.tpl)),c.tps.apply(a)};return c},e.prototype.render=function(a,b){var e,d=this;return a?(e=d.temp(d.tpl,a),b?(b(e),void 0):e):c.error("no data")},g=function(a){return"string"!=typeof a?c.error("Template not found"):new e(a)},g.config=function(a){a=a||{};for(var c in a)b[c]=a[c]},"function"==typeof define?define(function(){return g}):"undefined"!=typeof exports?module.exports=g:window.jetpl=g}();
